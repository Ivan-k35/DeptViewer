# Веб-приложение для отображения структуры подразделений и сотрудников

Этот проект на Django предоставляет веб-страницу для отображения древовидной структуры подразделений и сотрудников, где
структура может иметь до 5 уровней. Для каждого сотрудника отображаются следующие данные:

- ФИО
- Должность
- Дата приема на работу
- Размер заработной платы
- Подразделение

Дерево подразделений отображается в свернутом виде, а для управления данными (CRUD) используется встроенная
административная панель Django.

## Используемые технологии:

- **Django 4.2**
- **Python 3.12**
- **PostgreSQL** 
- **Redis**
- **Twitter Bootstrap** 

## Запуск проекта

Для удобного развертывания используется Docker. Чтобы запустить проект:

1. Убедитесь, что у вас установлен [Docker](https://www.docker.com/get-started)
   и [Docker Compose](https://docs.docker.com/compose/).
2. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/Ivan-k35/DeptViewer
   cd DeptViewer

3. Запустите проект с помощью Docker Compose:

   ```bash
   docker-compose up -d

4. Древовидная структура подразделений и сотрудников доступна по
   адресу http://localhost:8000/departments/department_tree/

## Создание суперпользователя

Для доступа к административной панели Django необходимо создать суперпользователя. Для этого выполните следующие шаги:

1. Выполните команду для создания суперпользователя:

   ```bash
   docker exec -it dept_viewer  python manage.py createsuperuser

2. После этого вы сможете войти в административную панель по адресу http://localhost:8000/admin

## Остановка и удаление контейнеров

1. После завершения работы с проектом, вы можете остановить и удалить контейнеры с помощью следующей команды:

   ```bash
   docker-compose down

2. Эта команда остановит все контейнеры и удалит их, а также очистит ресурсы, созданные Docker Compose.

## Разработка

### Локальный запуск без Docker

1. Создайте виртуальное окружение и активируйте его:

   Для Linux/MacOS:
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   ```

   Для Windows:
   ```bash
   python -m venv venv
   .\venv\Scripts\activate
     ```

2. Установите зависимости из файла `requirements.txt`:

   ```bash
   pip install -r requirements.txt

3. Выполните миграции базы данных:

   ```bash
   python manage.py migrate

4. Для наполнения базы данных тестовыми данными выполните следующую команду:

   ```bash
   python manage.py generate_data

5. Запустите сервер разработки:

   ```bash
   python manage.py runserver

Проект будет доступен по адресу http://localhost:8000

## Создание суперпользователя

Для доступа к административной панели Django необходимо создать суперпользователя. Для этого выполните команду:

```bash
python manage.py createsuperuser
```

После этого админка будет доступна по адресу http://localhost:8000/admin